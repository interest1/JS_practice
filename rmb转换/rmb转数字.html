<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>换算</title>
    <style>
        *{
            margin: 0;
            padding: 0;
            font-size:1.2rem;
        }
        body{
            background: #eee;
        }
        .box{
            position: relative;
            left:50px;
            top:50px;
        }
        input{
            width:1.5rem;
        }
        button{
            margin-top: .5rem;
            display: block;
        }
        .p{
            margin-bottom: .2rem;
        }

    </style>
</head>
<body>
<div class="box" id="box">
    <p class="p">人民币转数字</p>
    <div id="top">
        <input type="text" class="grid" id="num1">万
        <input type="text" class="grid" id="num2">千
        <input type="text" class="grid" id="num3">百
    </div>
    <div id="middle">
        <input type="text" class="grid" id="num4">十
        <input type="text" class="grid" id="num5">元
        <input type="text" class="grid" id="num6">角
    </div>
    <div id="bottom">
        <input type="text" class="grid" id="num7">分
        <button type="button" onclick="clk()">换算</button>
    </div>

    <div class="result" id="result"></div>
</div>
<script>

    var result=document.getElementById('result');

    var isMb = /applewebkit.*mobile.*/.test(window.navigator.userAgent.toLowerCase());
    if(isMb==true){
        document.documentElement.style.fontSize="6rem";
        document.getElementById("box").style.top='200px';
    }
    function p(s) {
        // if(parseInt(s)==0){
        if(isNaN(parseInt(s))){
            return 0;
        }else{
            return parseInt(s);
        }
    }

    function clk() {
        var num1=document.getElementById('num1').value;
        var num2=document.getElementById('num2').value;
        var num3=document.getElementById('num3').value;
        var num4=document.getElementById('num4').value;
        var num5=document.getElementById('num5').value;
        var num6=document.getElementById('num6').value;
        var num7=document.getElementById('num7').value;

        var sum=p(num1)*10000+p(num2)*1000+p(num3)*100+p(num4)*10+p(num5)
            +p(num6)/10+p(num7)/100;

        var s=sum.toString().split('.');
        if(s.length>1){
            if(s[1].length>2){
                var sumx=s[1].substr(0,2);
                result.innerHTML=s[0]+'.'+sumx;

            }else{
                result.innerHTML=sum;
            }
        }else{
            result.innerHTML=sum;
        }
    }

    // for(i in [p(num1),p(num2),p(num3),p(num4),p(num5),p(num6),p(num7)]){
        //
        //     }
        // }
        // console.log(parseInt(num2))//NaN
        // console.log(typeof parseInt(num2))//num
        // console.log(isNaN(parseInt(num2)))//true
        //
        // console.log(parseInt(num1))//1
        // console.log(typeof parseInt(num1))//num
        // console.log(isNaN(parseInt(num1)))//false
</script>
</body>
</html>